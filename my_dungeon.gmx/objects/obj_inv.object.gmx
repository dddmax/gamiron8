<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>dx = 10;
dy = 10;
dx_craft = 370;
csize = 32;

global.items_db[100,0]:="Vodka"; //Name of the item
global.items_db[100,1]:="A simple cheap Vodka"; //discription of the item
global.items_db[100,2]:=spr_vodka; //the sprite of the item
global.items_db[100,3]:=1; 
global.items_db[100,4]:=99 //item type

//0-9 resources
global.items_db[0,0]:="Paper"; //Name of the item
global.items_db[0,1]:="A simple cheap Paper"; //discription of the item
global.items_db[0,2]:=spr_paper; //the sprite of the item
global.items_db[0,3]:=1; 
global.items_db[0,4]:=999 //item type

global.items_db[1,0]:="Metal"; //Name of the item
global.items_db[1,1]:="A simple cheap Metal"; //discription of the item
global.items_db[1,2]:=spr_metal; //the sprite of the item
global.items_db[1,3]:=1; 
global.items_db[1,4]:=999 //item type

global.items_db[2,0]:="Wood"; //Name of the item
global.items_db[2,1]:="A simple cheap Wood"; //discription of the item
global.items_db[2,2]:=spr_wood; //the sprite of the item
global.items_db[2,3]:=1; 
global.items_db[2,4]:=999 //item type

global.items_db[3,0]:="Rope"; //Name of the item
global.items_db[3,1]:="A simple cheap Rope"; //discription of the item
global.items_db[3,2]:=spr_rope; //the sprite of the item
global.items_db[3,3]:=1; 
global.items_db[3,4]:=999 //item type

global.items_db[4,0]:="Powder"; //Name of the item
global.items_db[4,1]:="A simple cheap Powder"; //discription of the item
global.items_db[4,2]:=spr_powder; //the sprite of the item
global.items_db[4,3]:=1; 
global.items_db[4,4]:=999 //item type

//10-19 traps
global.items_db[10,0]:='Spike trap'; //Name of the item
global.items_db[10,1]:='This is the amount of lives you got.'; //discription of the item
global.items_db[10,2]:=spr_Trap_Spike; //the sprite of the item
global.items_db[10,3]:=10; //trap damage
global.items_db[10,4]:=0 //item type

global.items_db[11,0]:='Crossbow trap'; //Name of the item
global.items_db[11,1]:='This is the amount of lives you got.'; //discription of the item
global.items_db[11,2]:=spr_Trap_Bow; //the sprite of the item
global.items_db[11,3]:=20; //trap damage
global.items_db[11,4]:=0 //item type

global.items_db[12,0]:='Dynamite trap'; //Name of the item
global.items_db[12,1]:='This is the amount of lives you got.'; //discription of the item
global.items_db[12,2]:=spr_Trap_Dynamite; //the sprite of the item
global.items_db[12,3]:=200; //trap damage
global.items_db[12,4]:=0 //item type

global.items_db[13,0]:='Gun trap'; //Name of the item
global.items_db[13,1]:='This is the amount of lives you got.'; //discription of the item
global.items_db[13,2]:=spr_Trap_Gun; //the sprite of the item
global.items_db[13,3]:=50; //trap damage
global.items_db[13,4]:=0 //item type

//20-29 armor
global.items_db[20,0]:="Shirt"; //Name of the item
global.items_db[20,1]:="A simple Shirt"; //discription of the item
global.items_db[20,2]:=spr_shirt; //the sprite of the item
global.items_db[20,3]:=1; //the maximum value of the item
global.items_db[20,4]:=1 //item type

global.items_db[21,0]:="Shirt1"; //Name of the item
global.items_db[21,1]:="A simple Shirt1111"; //discription of the item
global.items_db[21,2]:=spr_shirt1; //the sprite of the item
global.items_db[21,3]:=1; //the maximum value of the item
global.items_db[21,4]:=1 //item type

for(i=0; i&lt;8; i+=1)
{
    global.inventory[i,0] = -1; //item id
    global.inventory[i,1] = 0; //item value
}
for(i=0; i&lt;4; i+=1)
{
    global.craft[i] = -1; //item id    
}

//add  items 
global.inventory[0,0] = 0; 
global.inventory[0,1] = 100;
global.inventory[1,0] = 1; 
global.inventory[1,1] = 100;  
global.inventory[2,0] = 2; 
global.inventory[2,1] = 100; 
global.inventory[3,0] = 3; 
global.inventory[3,1] = 100;
global.inventory[4,0] = 4; 
global.inventory[4,1] = 100;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>////
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="57">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string> //Inventory 
for(i:=0; i&lt;8; i+=1)
{
    x1 = dx+i*(csize+dx)+view_xview;
    y1 = dy+view_yview;
    x2 = (csize+dx)+i*(csize+dx)+view_xview;
    y2 = (csize+dy)+view_yview;
    if scr_Mouse_In_Rect(x1,y1,x2,y2) then
    {      
      if global.inventory[i,0] != -1  then
      {        
        //Install trap
        if (global.items_db[global.inventory[i,0],4] == 0) then
        {
            var xx = obj_player.x;
            var yy = obj_player.y;
            switch (global.items_db[global.inventory[i,0],0])
            {
                case 'Spike trap':                
                    instance_create(xx, yy, obj_trap_spike);
                    global.inventory[i,1] -= 1;
                    if (global.inventory[i,1] == 0) then global.inventory[i,0] = -1;                   
                    break; 
                case 'Crossbow trap':
                    instance_create(xx, yy, obj_trap_bow);
                    global.inventory[i,1] -= 1;
                    if (global.inventory[i,1] == 0) then global.inventory[i,0] = -1;
                    break;
               case 'Dynamite trap':
                    instance_create(xx, yy, obj_trap_dynamite);
                    global.inventory[i,1] -= 1;
                    if (global.inventory[i,1] == 0) then global.inventory[i,0] = -1;
                    break;
               case 'Gun trap':
                    instance_create(xx, yy, obj_trap_gun);
                    global.inventory[i,1] -= 1;
                    if (global.inventory[i,1] == 0) then global.inventory[i,0] = -1;
                    break;               
            }            
        }             
      }
    }
}

  
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="56">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string> //Inventory 
for(i:=0; i&lt;8; i+=1)
{
    x1 = dx+i*(csize+dx)+view_xview;
    y1 = dy+view_yview;
    x2 = (csize+dx)+i*(csize+dx)+view_xview;
    y2 = (csize+dy)+view_yview;
    if scr_Mouse_In_Rect(x1,y1,x2,y2) then
    {      
      if global.inventory[i,0] != -1 &amp;&amp; global.items_db[global.inventory[i,0],4] == 999 then
      {        
        tmp_success = false;
        for (j=0; j&lt;4; j+=1)
        {
            if (global.craft[j] == -1) &amp;&amp; (tmp_success == false) then 
            {
                global.craft[j] = global.inventory[i,0];
                global.inventory[i,1] -= 1;
                if (global.inventory[i,1] == 0) then global.inventory[i,0] = -1;
                tmp_success = true;
                //break;
            }
        }
        if !tmp_success then show_message('craft cells is not empty');        
      }
    }
}
// Buttons OK
if scr_Mouse_In_Rect(dx+csize+dx+view_xview + dx_craft + (csize+10)*3, dy+view_yview, dx+csize+dx+view_xview + dx_craft + (csize+10)*3 +csize, dy+view_yview +csize) then
{
    Wood = 0;
    Metal = 0;
    Rope = 0;
    Paper = 0;
    Powder = 0;
    for (j=0; j&lt;4; j+=1)
    {    
        if(global.craft[j] == 0) then Paper += 1;
        if(global.craft[j] == 1) then Metal += 1;
        if(global.craft[j] == 2) then Wood += 1; 
        if(global.craft[j] == 3) then Rope += 1;         
        if(global.craft[j] == 4) then Powder += 1;                    
    }
    //Spike trap
    if (Wood == 1) and (Metal == 2) and (Rope == 0) and (Paper == 0) and (Powder == 0) then
    {
        for (j=0; j&lt;4; j+=1)
            global.craft[j] = -1;        
        global.craft[0] = 10;
    }
    //Bow trap
    if (Wood == 2) and (Metal == 1) and (Rope == 1) and (Paper == 0) and (Powder == 0) then
    {
        for (j=0; j&lt;4; j+=1)
            global.craft[j] = -1;
        global.craft[0] = 11;
    }
    //Dynamite trap
    if (Wood == 0) and (Metal == 0) and (Rope == 1) and (Paper == 2) and (Powder == 1) then
    {
        for (j=0; j&lt;4; j+=1)
            global.craft[j] = -1;
        global.craft[0] = 12;
    }
    //Gun trap
    if (Wood == 1) and (Metal == 2) and (Rope == 0) and (Paper == 0) and (Powder == 1) then
    {
        for (j=0; j&lt;4; j+=1)
            global.craft[j] = -1;
        global.craft[0] = 13;
    }
}

//Cancel
if scr_Mouse_In_Rect(dx+csize+dx+view_xview + dx_craft + (csize+10)*4, dy+view_yview, dx+csize+dx+view_xview + dx_craft + (csize+10)*4 +csize, dy+view_yview +csize) then
{
    for (j=0; j&lt;4; j+=1)
    {
        tmp_success = false;
        for(i=0; i&lt;8; i+=1)
        {
            if(global.inventory[i,0] == global.craft[j]) then
            {
                global.inventory[i,1] += 1;                
                global.craft[j] = -1;
                tmp_success = true;
                break;
            }
        }
        if !tmp_success then
        {
            for(i=0; i&lt;8; i+=1)
            {
                if(global.inventory[i,0] == -1) then
                {
                    global.inventory[i,0] = global.craft[j];
                    global.inventory[i,1] = 1;
                    global.craft[j] = -1;
                    tmp_success = true;
                    break;
                }
            }        
        }        
    }
}
  
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//draw_set_font(fnt_your_font);
draw_set_halign(fa_right);

for(i:=0; i&lt;8; i+=1) //inventory
{
  x1 = dx+i*(csize+dx)+view_xview;
  y1 = dy+view_yview;
  x2 = (csize+dx)+i*(csize+dx)+view_xview;
  y2 = (csize+dy)+view_yview;  
  
  image_speed = 0;
  draw_sprite( spr_Cell , 0,dx + i*(csize+dx)+view_xview , dy+view_yview);
  
  if global.inventory[i,0] &gt; -1 then // cell not empty
  {
    if scr_Mouse_In_Rect(x1,y1,x2,y2) then //item description
    {      
      draw_set_color(c_yellow);      
      draw_text_ext(obj_player.x + 10 , obj_player.y + 10 , global.items_db[global.inventory[i,0],1] , -1 , 630);
    }    
    draw_sprite( global.items_db[global.inventory[i,0],2] , -1, dx + i*(csize+dx)+view_xview+16, dy+view_yview+16);
    // value of item
    draw_set_color(c_yellow);
    draw_text(dx + i*(csize+dx) + (csize-3) +view_xview, csize +view_yview, global.inventory[i,1]);    
  } 
}
  
for(i:=0; i&lt;4; i+=1) //craft
{  
  image_speed = 0;
  draw_sprite( spr_Cell , 1,dx + i*(csize+dx)+view_xview + dx_craft, dy+view_yview);
  if (global.craft[i] != -1)
    draw_sprite( global.items_db[global.craft[i],2] , -1,dx + i*(csize+dx)+view_xview + dx_craft+16, dy+view_yview+16);
}
//craft buttons
image_speed = 0;
draw_sprite( spr_Button , 0,dx+csize+dx+view_xview + dx_craft + (csize+10)*3, dy+view_yview);
draw_sprite( spr_Button , 1,dx+csize+dx+view_xview + dx_craft + (csize+10)*4, dy+view_yview);

draw_set_color(c_yellow);
if(obj_player.vodka)
{
    draw_text(100 +view_xview, csize +20 +view_yview, 'VODKA');
}
else
{
    draw_text(100 +view_xview, csize +20 +view_yview, 'NOT vodka');
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
